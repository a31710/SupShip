<ng-container *ngIf="loaderService.isLoading | async">
  <div class="lds-ripple"><div></div><div></div></div>
 </ng-container>
<div class="body" >
<div class="row p-fluid mt-2 ">
  <div class="p-field mt-2 col-lg-2">
    <span class="text-gray-900">Chọn tháng</span>
    <p-calendar (onSelect)="onChangeMonth($event)" [(ngModel)]="dateValue" view="month" dateFormat="mm/yy" [yearNavigator]="true" yearRange="2000:2030"></p-calendar>
  </div>

</div>


<ng-container *ngFor="let item of reportData">
  <div class="row mt-4">
    <div class="col-6">
      <div class="card bg-danger text-white ">
        <div class="row " style="margin:5px">
            <div class="col-8">
              <div class="txt-box">{{item?.successes + item?.fails}}/{{item?.totalAssigns}}</div>
            </div>
            <div class="col-4">
              <i class="fas fa-users txt-box rgt"></i>
            </div>
            <div class="col-12 mt-1">
              <p-progressBar class="prgbar"  [value]="value" [style]="{'height': '15px','background-color':'white', 'font-size':'0px'}"></p-progressBar>
            </div>
            <div class="col-8 mt-1">
              <h6 class="txt-box" >Tỉ lệ tiếp xúc</h6>
            </div>
            <div class="col-4 mt-1">
              <h6 class="txt-box rgt">{{tltx}}%</h6>
            </div>
        </div>
      </div>
    </div>

    <div class="col-6">
      <div class="card bg-success text-white ">
        <div class="row " style="margin:5px">
            <div class="col-8">
              <div class="txt-box">{{item?.contacting}}/{{item?.totalAssigns}}</div>
            </div>
            <div class="col-4">
              <i class="fas fa-users txt-box rgt"></i>
            </div>
            <div class="col-12 mt-1">
              <p-progressBar class="prgbar"  [value]="value" [style]="{'height': '15px','background-color':'white', 'font-size':'0px'}"></p-progressBar>
            </div>
            <div class="col-8 mt-1">
              <h6 class="txt-box" >Tỉ lệ hoàn thành</h6>
            </div>
            <div class="col-4 mt-1">
              <h6 class="txt-box rgt">{{tlht}}%</h6>
            </div>
        </div>
      </div>
    </div>


  </div>

  <div class="row pad pt-4">
    <div class="col-lg-6">
      <div class="card min mb-4 mt-2" style="border: 1px solid  rgb(189, 188, 188);padding-bottom: 0 !important;">
        <!-- Card Header - Dropdown -->
        <div
        class="card-header py-3 d-flex flex-row align-items-center justify-content-between" style="border-bottom: 1px solid  rgb(189, 188, 188); padding: 10px 20px !important;">
        <h5 class="m-0 text-primary " ><span >Khách hàng đã tiếp xúc</span></h5>
        <div class="dropdown no-arrow">
            <a class="dropdown-toggle" href="#" role="button" >

            </a>
        </div>
      </div>
        <!-- Card Body -->
        <div class="row">
          <div class="col-10">
            <div class="card-body">
              <div class="h5 mb-0 text-gray-800 mt-2"><h5 class="inside"><i class="fas fa-square mr-2 text-info" ></i>Được giao</h5></div>
              <div class="h5 mb-0 text-gray-800 mt-2"><h5 class="inside"><i class="fas fa-square mr-2 text-danger" ></i>Tự nhập</h5> </div>

              </div>
          </div>
          <div class="col-2" style="margin-top:20px">
              <div class="h5 mb-0 text-info mt-2"><h5 class="inside">{{item?.duocGiao}} </h5></div>
              <div class="h5 mb-0 text-danger mt-2"><h5 class="inside">{{item?.tuNhap}} </h5> </div>


          </div>


        </div>


        </div>
    </div>

    <div class="col-lg-6">
      <div class="card min mb-4 mt-2" style="border: 1px solid  rgb(189, 188, 188);padding-bottom: 0 !important;">
        <!-- Card Header - Dropdown -->
        <div
          class="card-header py-3 d-flex flex-row align-items-center justify-content-between" style="border-bottom: 1px solid  rgb(189, 188, 188); padding: 10px 20px !important;">
          <h5 class="m-0 text-primary " ><span >Khách hàng đã tiếp xúc</span></h5>
          <div class="dropdown no-arrow">
              <a class="dropdown-toggle" href="#" role="button" >
                  <h5 class="m-0 font-weight-bold text-gray-100 bg-gradient-success" style="border: 2px; border-radius: 5px;"><span class="p-1">{{item?.assigned}}</span></h5>
              </a>
          </div>
        </div>
        <!-- Card Body -->
        <div class="row">
          <div class="col-6 col-lg-5">
            <div class="card-body">
              <div class="h5 mb-0 text-gray-800 mt-2"><h5 class="inside"><i class="fas fa-circle mr-2" style="color: #1cc88a;"></i>Thành công</h5></div>
              <div class="h5 mb-0 text-gray-800 mt-2"><h5 class="inside"><i class="fas fa-circle mr-2 " style="color: #f6c23e;"></i>Đang tiếp xúc</h5> </div>
              <div class="h5 mb-0 text-gray-800 mt-2"><h5 class="inside"><i class="fas fa-circle mr-2 " style="color: #e74a3b;"></i>Thất bại</h5></div>
              </div>
          </div>
          <div class="col-3 col-lg-5" style="margin-top:20px">
              <div class="h5 mb-0 text-success mt-2"><h5 class="inside">{{item?.successes}} ({{successPct}}%)</h5></div>
              <div class="h5 mb-0 text-warning mt-2"><h5 class="inside">{{item?.contacting}} ({{contactingPct}}%)</h5> </div>
              <div class="h5 mb-0 text-danger mt-2"><h5 class="inside">{{item?.fails}} ({{failPct}}%) </h5></div>

          </div>
          <div class="col-3 col-lg-2" style="margin-left: -45px; margin-top:15px ">
          <ngx-charts-pie-chart
          [view]="view"
          [scheme]="colorScheme"
          [results]="single"
          [gradient]="gradient"
          [doughnut]="isDoughnut"
          (select)="onSelect($event)"
          (activate)="onActivate($event)"
          (deactivate)="onDeactivate($event)"
          >
        </ngx-charts-pie-chart>
          </div>

        </div>


        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
  </div>
</ng-container>














</div>
